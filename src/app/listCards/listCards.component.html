<div class="container-fluid mb-5">
  <nav mt-5>
    <div class="nav nav-tabs" id="nav-tab" role="tablist">
      <a
        class="nav-item nav-link active tab-title"
        id="nav-tradingIdeas-tab"
        data-toggle="tab"
        href="#nav-tradingIdeas"
        role="tab"
        aria-controls="nav-tradingIdeas"
        aria-selected="true"
        >Trading Ideas</a
      >
      <a
        class="nav-item nav-link tab-title"
        id="nav-subSector-tab"
        data-toggle="tab"
        href="#nav-subSector"
        role="tab"
        aria-controls="nav-subSector"
        aria-selected="false"
        >Grouped by Industry</a
      >
    </div>
  </nav>
  <div class="tab-content" id="nav-tabContent">
    <div
      class="tab-pane fade show active card"
      id="nav-tradingIdeas"
      role="tabpanel"
      aria-labelledby="nav-tradingIdeas-tab"
    >
      <div class="card border-0">
        <div class="card-body">
          <h5 class="card-title">Trading Ideas</h5>
          <p class="card-text" note>
            Newest Trading Ideas gaining momentum in the stock market. This list is updated periodically to reflect the
            market sentiment.
          </p>
          <ul class="pl-0">
            <li style="list-style-type: lower-alpha" class="ml-3 mb-3 note">
              <span class="card-text step-text">Each Trading idea has a list of stocks associated with the idea.</span>
            </li>
            <li style="list-style-type: lower-alpha" class="ml-3 mb-3 note">
              <span class="card-text step-text">Lists publiclity traded stocks from NASDAQ, NYSE and AMEX.</span>
            </li>
            <li style="list-style-type: lower-alpha" class="ml-3 mb-3 note">
              <span class="card-text step-text">Click on "GET List" to see the list of stocks in each category.</span>
            </li>
            <li style="list-style-type: lower-alpha" class="ml-3 mb-3 note">
              <span class="card-text step-text"
                >Each card displays the percent gain/loss by the ETF for this trading Idea.</span
              >
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div *ngIf="listCard$ | async as cards" class="mt-3 card-columns">
      <div class="card pb-3" *ngFor="let card of cards">
        <img class="card-img-top" width="300px" height="200" src="{{ card.img }}" alt="Card image cap" />
        <div class="card-body">
          <h5 class="card-title">{{ card.title }}</h5>
          <p class="card-text note" [innerHTML]="card.desc | truncate: 90"></p>
          <div>
            <button (click)="getList(card)" class="btn btn-primary float-left">Get List</button>
            <span class="float-right" *ngIf="card.day_change && card.day_change > 0">
              {{ card.day_change / 100 | percent: '1.0-2' }}
            </span>
            <span class="float-right" *ngIf="card.day_change && card.day_change < 0">
              {{ card.day_change / 100 | percent: '1.0-2' }}
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="tab-pane fade" id="nav-subSector" role="tabpanel" aria-labelledby="nav-subSector-tab">
      <div *ngIf="subSectorList$ | async as subSectorList" class="d-flex flex-wrap mt-3">
        <table id="subsectors" class="table table-striped table-hover table-bordered">
          <thead>
            <tr>
              <th class="text-center" scope="col">Sub-Sector Title</th>
              <th class="text-center" scope="col">1-Day Change</th>
              <th class="text-center" scope="col">1-Week Change</th>
              <th class="text-center" scope="col">1-Month Change</th>
              <th class="text-center" scope="col">1-Quater Change</th>
              <th class="text-center" scope="col">6-Month Change</th>
              <th class="text-center" scope="col">1-Year Change</th>
              <th class="text-center" scope="col">YTD Change</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let subSector of subSectorList" class="table-row">
              <td class="text-left">
                <a routerLink="/subSectorDetails/{{ subSector.id }}">{{ subSector.title }}</a>
              </td>
              <td class="text-right note">
                {{ subSector.change }}
              </td>
              <td class="text-right percent-change">
                {{ subSector.perf_week }}
              </td>
              <td class="text-right percent-change">
                {{ subSector.perf_month }}
              </td>
              <td class="text-right percent-change">
                {{ subSector.perf_quart }}
              </td>
              <td class="text-right percent-change">
                {{ subSector.perf_half }}
              </td>
              <td class="text-right percent-change">
                {{ subSector.perf_year }}
              </td>
              <td class="text-right percent-change">
                {{ subSector.perf_ytd }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <ng-template #noDataDiv>
    <div class="text-center mt-10 mb-2">
      <br />
      <br />
      <a href="/uploadPortfolio">Upload transactions</a> so we can compute this value. You are 1-step away from it.
      <br />
      <br />
    </div>
  </ng-template>
  <ng-template #gain>
    <div class="text-center">
      <img class="card-img-top" src="assets/gain.png" style="height: 40px; width: 40px" alt="Card image cap" />
    </div>
  </ng-template>
  <ng-template #confused>
    <div class="text-center">
      <img class="card-img-top" src="assets/confused.png" style="height: 40px; width: 40px" alt="Card image cap" />
    </div>
  </ng-template>
  <ng-template #loss>
    <div class="text-center">
      <img class="card-img-top" src="assets/loss.png" style="height: 40px; width: 40px" alt="Card image cap" />
    </div>
  </ng-template>
</div>
